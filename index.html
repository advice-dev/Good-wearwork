<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GOOD Wear - Officiel</title>
    <style>
        :root { --orange: #FF8C00; --dark: #333; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; background: #f8f9fa; color: var(--dark); }
        
        /* HEADER */
        .header { background: white; padding: 20px 15px; text-align: center; border-bottom: 3px solid var(--orange); position: sticky; top: 0; z-index: 1000; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .logo { margin: 0; color: var(--orange); font-size: 26px; font-weight: 800; letter-spacing: 1px; }
        .slogan { color: #666; font-size: 14px; font-weight: 500; margin-top: 4px; font-style: italic; }
        
        .container { padding: 20px; max-width: 450px; margin: auto; }
        
        /* FORMULAIRE & CARDS */
        .card { background: white; border-radius: 15px; padding: 20px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); margin-bottom: 20px; border: 1px solid #eee; }
        h2 { font-size: 20px; margin-bottom: 15px; text-align: center; color: var(--dark); }
        
        input { width: 100%; padding: 14px; margin: 10px 0; border: 1px solid #ddd; border-radius: 10px; box-sizing: border-box; font-size: 16px; transition: 0.3s; }
        input:focus { border-color: var(--orange); outline: none; box-shadow: 0 0 5px rgba(255, 140, 0, 0.2); }
        
        .btn { background: var(--orange); color: white; border: none; padding: 16px; width: 100%; border-radius: 10px; font-weight: bold; cursor: pointer; font-size: 16px; text-transform: uppercase; letter-spacing: 1px; }
        .btn:active { transform: scale(0.98); background: #e67e00; }
        
        /* NAVIGATION */
        .page { display: none; animation: fadeIn 0.4s; }
        .active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        /* INFOS SESSION */
        .session-info { background: #fff3e0; border-left: 4px solid var(--orange); padding: 12px; border-radius: 6px; font-size: 13px; margin-bottom: 20px; line-height: 1.5; }
        .price-tag { color: var(--orange); font-weight: bold; font-size: 1.5em; margin: 10px 0; }
    </style>
</head>
<body>

<div class="header">
    <div class="logo">GOOD WEAR</div>
    <div class="slogan">Achetez, Vendez, Gagnez</div>
</div>

<div class="container">
    <div id="signup-page" class="page active">
        <h2>Cr√©er ma Boutique</h2>
        <input type="text" id="in-shop" placeholder="Nom de la boutique">
        <input type="text" id="in-name" placeholder="Nom du responsable">
        <input type="tel" id="in-phone" placeholder="Num√©ro de t√©l√©phone">
        <input type="email" id="in-email" placeholder="Adresse Email">
        <input type="password" id="in-pass" placeholder="Mot de passe">
        <button class="btn" onclick="inscrireCompte()">Lancer ma boutique</button>
    </div>

    <div id="market-page" class="page">
        <div style="display:flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
            <h2 id="user-shop-display" style="margin:0; color: var(--orange);">Marketplace</h2>
            <button onclick="logout()" style="background:none; border:none; color:red; cursor:pointer; font-size:12px; font-weight:bold;">Quitter</button>
        </div>
        
        <div id="user-data-bar" class="session-info"></div>

        <div class="card">
            <div style="display:flex; justify-content:space-between;">
                <span style="font-size:11px; font-weight:bold; color:green;">STATUT: V√âRIFI√â</span>
                <span style="font-size:11px; color:#999;">ID: #9967</span>
            </div>
            <h3 style="margin:10px 0;">Article Collection Premium</h3>
            <p style="font-size: 14px; color:#666; margin:0;">Prix initial + 20% commission incluse.</p>
            <div class="price-tag">Total : 60.00 $</div>
            
            <button class="btn" onclick="acheterArticle('0836344645', 'Article Premium', 60)">Acheter</button>
        </div>
    </div>
</div>

<script>
    let activeUser = JSON.parse(localStorage.getItem('goodwear_final_session')) || null;

    // --- FONCTION INSCRIPTION ---
    function inscrireCompte() {
        const shop = document.getElementById('in-shop').value;
        const nom = document.getElementById('in-name').value;
        const tel = document.getElementById('in-phone').value;
        const email = document.getElementById('in-email').value;
        const pass = document.getElementById('in-pass').value;

        if(!shop || !nom || !tel || !email || !pass) {
            alert("‚ö†Ô∏è Erreur : Remplissez TOUS les champs (Boutique, Responsable, Tel, Email, Passe).");
            return;
        }

        const data = { 
            boutique: shop, 
            responsable: nom, 
            telephone: tel.trim(), 
            email: email 
        };

        localStorage.setItem('goodwear_final_session', JSON.stringify(data));
        activeUser = data;
        alert("Succ√®s ! Bienvenue dans l'univers GOOD Wear.");
        refreshApp();
    }

    // --- FONCTION ACHAT AVEC BLOCAGE ---
    function acheterArticle(telVendeur, nomProd, prix) {
        if(!activeUser) {
            alert("Inscrivez-vous pour acheter.");
            location.reload();
            return;
        }

        // S√âCURIT√â : On compare le t√©l√©phone de l'acheteur avec celui du vendeur
        if(activeUser.telephone === telVendeur) {
            alert("‚ùå ACTION IMPOSSIBLE\n\nLogique de s√©curit√© : Vous ne pouvez pas acheter vos propres articles !");
        } else {
            const ticket = `
üì¢ TICKET DE PAIEMENT
-----------------------------------
Produit : ${nomProd}
Montant : ${prix} $

Veuillez payer sur nos num√©ros officiels :
üí∞ M-PESA : 0836344645
üí∞ AIRTEL MONEY : 0970428667

Achetez, Vendez, Gagnez !
            `;
            alert(ticket);
        }
    }

    // --- AFFICHAGE ET SESSION ---
    function refreshApp() {
        if(activeUser) {
            document.getElementById('signup-page').classList.remove('active');
            document.getElementById('market-page').classList.add('active');
            document.getElementById('user-shop-display').innerText = activeUser.boutique;
            document.getElementById('user-data-bar').innerHTML = `
                <strong>Responsable :</strong> ${activeUser.responsable}<br>
                <strong>Email :</strong> ${activeUser.email}<br>
                <strong>Tel :</strong> ${activeUser.telephone}
            `;
        }
    }

    function logout() {
        if(confirm("Voulez-vous vous d√©connecter ?")) {
            localStorage.removeItem('goodwear_final_session');
            location.reload();
        }
    }

    window.onload = refreshApp;
</script>

</body>
</html>
